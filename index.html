<!DOCTYPE html>
  <html lang="en" dir="ltr">
    <head>
      <meta charset="utf-8">
      <title>Duncan's Language Translator</title>
      <script>
        function fetchDict(english, outputDiv) {
          console.log(`Attempting to fetch https://api.dictionaryapi.dev/api/v2/entries/en/${english}`)
          fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${english}`)
           .then((response) => {
             if (!response.ok) {
               throw new Error(`HTTP error: ${response.status}`);
             }
           return response.text();
           })
           .then((text) => {
           const commaSplit = text.split(',')
           const colonSplit = commaSplit[1].split(':')
           const phonetic = colonSplit[1]
           const trimmedPhonetic = phonetic.substring(2, phonetic.length - 2)
           console.log(`phonetic: ${trimmedPhonetic}`)
           outputDiv.innerHTML += `<p> Phonetic: ${trimmedPhonetic} </p>`
        })
       .catch((error) => { dictText = `Could not fetch dictionary: ${error}` });
       }

       function translate(event) {
         event.preventDefault();
         console.log('Translating!')
         let english = document.getElementById('english').text()
         console.log(`Input english word is ${english}`)
         let outputDiv = document.getElementById('output')
         fetchDict(english, outputDiv)
         console.log('Did we fetch that dict?')
       }
       
        const form = document.getElementById('theform');
        form.addEventListener('submit',translate);
      </script>
    </head>
    <body>
      <div id="text-entry">
        <form id="theform">
          <label for="english">Enter English word or phrase:</label>
          <input type="text" id="english" name="english">
          <input type="submit" id="submit" value="Translate!">
        </form>
      </div><br>
      <div id="output">
      </div>
    </body>
</html>
